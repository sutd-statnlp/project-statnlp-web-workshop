var config={apiKey:"AIzaSyBsSK5PakPF3As3JN0E3Wm27VUsnGc7srw",authDomain:"wsregistration.statnlp.org",databaseURL:"https://statnlp-ws.firebaseio.com",projectId:"statnlp-ws",storageBucket:"statnlp-ws.appspot.com",messagingSenderId:"591724988616"};firebase.initializeApp(config);var database=firebase.database(),googleProvider=new firebase.auth.GoogleAuthProvider;function loadData(){database.ref("users").on("value",function(t){t&&(loadArrayFromSnapshot(t),$("#m-sec-info").hide(),$("#m-sec-table").show())})}function appendTableRow(t){$("#m-tbody").append("<tr><td>"+t.firstName+"</td><td>"+t.affiliation+"</td><td>"+t.email+"</td><td>"+formatDate(t.date)+"</td><td>"+("other"===t.role?t.customRole:t.role)+"</td></tr>")}function formatDate(t){return t.toString().split("GMT")[0]}function loadArrayFromSnapshot(t){$("#m-tbody").empty(),t.forEach(function(t){var n=t.key,e=t.val();e.date=new Date(1*n),appendTableRow(e)}),$("#table").DataTable()}function signIn(){firebase.auth().signInWithPopup(googleProvider).then(function(t){t.credential.accessToken;loadUserSignIn(t.user)}).catch(function(t){console.log(t)})}function loadUserSignIn(t){$("#m-btn-signin").hide(),$("#m-btn-signout").show(),$("#m-btn-signout").text(t.email+" - Sign Out"),loadData()}function loadUserSingOut(){$("#m-btn-signin").show(),$("#m-btn-signout").hide(),$("#m-sec-table").hide(),$("#m-sec-info").show(),$("#m-tbody").empty()}function signOut(){firebase.auth().signOut().then(function(){loadUserSingOut()}).catch(function(t){console.log(t)})}$("#m-btn-signout").hide(),firebase.auth().onAuthStateChanged(function(t){t?loadUserSignIn(t):loadUserSingOut()});